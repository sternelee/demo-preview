(function(d){typeof define=="function"&&define.amd?define(d):d()})(function(){"use strict";var d=(r,s,o)=>new Promise((e,t)=>{var a=i=>{try{c(o.next(i))}catch(l){t(l)}},h=i=>{try{c(o.throw(i))}catch(l){t(l)}},c=i=>i.done?e(i.value):Promise.resolve(i.value).then(a,h);c((o=o.apply(r,s)).next())});const p=document.currentScript,n={src:"https://changs-fashion.myshopify.com/cdn/shop/files/whatsapp.webp?width=200",phone:"",width:"60",height:"60",alt:"Click to Whatsapp",elm:"",style:"",client_id:"shopify user",welcome:"Hello, I am very interested in this product and would like to contact you further.",end:"Thank you \u{1F91D}."};if(p){const r=p.attributes;for(let s=0;s<r.length;s++){const o=r[s].name;o.indexOf("data-")===0&&(n[o.slice(5)]=r[s].value)}console.log(n)}const u=r=>new Promise(s=>{const o="https://spoo.me/",e=new URLSearchParams;e.append("url",r);const t=new XMLHttpRequest;t.open("POST",o,!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.setRequestHeader("Accept","application/json"),t.onreadystatechange=function(){t.readyState==4&&(t.status==200?s(JSON.parse(t.responseText)):(console.error(`HTTP error! Status: ${t.status}`),s("")))},t.send(e)});document.addEventListener("DOMContentLoaded",function(){if(!n.phone)return;const r=new URLSearchParams(window.location.search),s="wati-capi-img",o="watisdk",e=document.createElement("img");if(e.setAttribute("id",s),e.setAttribute("src",n.src),e.setAttribute("width",n.width),e.setAttribute("height",n.height),e.setAttribute("alt",n.alt),e.setAttribute("loading","lazy"),e.style.cursor="pointer",n.style){var t=document.createElement("style");t.innerHTML=`#${s} { ${n.style} }`,document.getElementsByTagName("head")[0].appendChild(t)}e.addEventListener("click",()=>d(this,null,function*(){let a=window.location.href,h=yield u(a);h?a=`${h.short_url}?from=${o}`:a=new URL(a).search?`${a}&from=${o}`:`${a}?from=${o}`,console.log(a);const c=encodeURIComponent(`${n.welcome}
Product Page:${a}
${n.end}`),i=`https://api.whatsapp.com/send/?phone=${encodeURIComponent(n.phone)}&text=${c}&type=phone_number&app_absent=0&${r.toString()}`;console.log("target:",i),window.open(i,"_blank")})),n.elm?document.querySelector(n.elm).appendChild(e):(e.style.position="fixed",e.style.zIndex="999",e.style.bottom="10px",e.style.right="10px",document.body.appendChild(e))})});
